import{s as ne,x as Y,y as Le,r as Me,o as Ae,e as Z,n as Q,z as oe}from"../chunks/scheduler.C7t7VQCU.js";import{S as re,i as ce,e as b,s as q,w as $,c as p,d as M,g as k,h as D,x as ee,m as z,n as o,A as R,r as ue,j as P,k as v,y as te,o as W,t as le,a as se,z as ie,p as ve,b as _e,f as be,B as de,l as pe,C as he,D as fe}from"../chunks/index.BuEixCZg.js";import{g as Pe}from"../chunks/entry.nZ2HFUt7.js";import{g as ae,u as Ve,c as Se,d as He,e as Fe,f as Ge,h as Ne}from"../chunks/api.service.CvczG7o1.js";function X(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Oe(i){let e,t,l,s,n,c,f,u,h,_,r,I=`By clicking "I Consent," you agree to our use of your images, which will
      be processed and stored on AWS. Your privacy and data security are
      assured.`,a,C,d,T,E,S,B,J="I consent",G,g,U,V,j="Take Again",N,m,w,y,O="Submit",H,K,ge;return h=new Je({props:{images:i[4]}}),{c(){e=b("div"),t=q(),l=b("dialog"),s=b("div"),n=b("img"),f=q(),u=b("div"),$(h.$$.fragment),_=q(),r=b("p"),r.textContent=I,a=q(),C=b("br"),d=q(),T=b("div"),E=b("input"),S=q(),B=b("label"),B.textContent=J,G=q(),g=b("br"),U=q(),V=b("button"),V.textContent=j,N=q(),m=b("br"),w=q(),y=b("button"),y.textContent=O,this.h()},l(L){e=p(L,"DIV",{class:!0}),M(e).forEach(k),t=D(L),l=p(L,"DIALOG",{class:!0});var F=M(l);s=p(F,"DIV",{});var A=M(s);n=p(A,"IMG",{class:!0,src:!0,alt:!0}),f=D(A),u=p(A,"DIV",{style:!0});var me=M(u);ee(h.$$.fragment,me),me.forEach(k),_=D(A),r=p(A,"P",{"data-svelte-h":!0}),z(r)!=="svelte-vd2xim"&&(r.textContent=I),a=D(A),C=p(A,"BR",{}),d=D(A),T=p(A,"DIV",{class:!0});var x=M(T);E=p(x,"INPUT",{id:!0,type:!0}),S=D(x),B=p(x,"LABEL",{for:!0,"data-svelte-h":!0}),z(B)!=="svelte-137263i"&&(B.textContent=J),x.forEach(k),G=D(A),g=p(A,"BR",{}),U=D(A),V=p(A,"BUTTON",{class:!0,"data-svelte-h":!0}),z(V)!=="svelte-1idmocm"&&(V.textContent=j),N=D(A),m=p(A,"BR",{}),w=D(A),y=p(A,"BUTTON",{class:!0,"data-svelte-h":!0}),z(y)!=="svelte-1qxv37p"&&(y.textContent=O),A.forEach(k),F.forEach(k),this.h()},h(){o(e,"class","modal-bg svelte-2mvxsa"),R(e,"show-filter",i[2]),o(n,"class","cancel"),Y(n.src,c="/images/Preview/Cancel.svg")||o(n,"src",c),o(n,"alt","alert"),ue(u,"text-align","center"),ue(u,"margin","10px auto 30px auto"),o(E,"id","condition"),o(E,"type","checkbox"),o(B,"for","condition"),o(T,"class","checkbox"),o(V,"class","btn-secondary btn"),o(y,"class","btn"),R(y,"disabled",!i[0]),o(l,"class","svelte-2mvxsa")},m(L,F){P(L,e,F),P(L,t,F),P(L,l,F),v(l,s),v(s,n),v(s,f),v(s,u),te(h,u,null),v(s,_),v(s,r),v(s,a),v(s,C),v(s,d),v(s,T),v(T,E),E.checked=i[0],v(T,S),v(T,B),v(s,G),v(s,g),v(s,U),v(s,V),v(s,N),v(s,m),v(s,w),v(s,y),i[10](l),H=!0,K||(ge=[W(n,"click",i[6]),W(E,"change",i[7]),W(V,"click",i[8]),W(y,"click",i[9]),Le(i[5].call(null,l))],K=!0)},p(L,[F]){(!H||F&4)&&R(e,"show-filter",L[2]);const A={};F&16&&(A.images=L[4]),h.$set(A),F&1&&(E.checked=L[0]),(!H||F&1)&&R(y,"disabled",!L[0])},i(L){H||(le(h.$$.fragment,L),H=!0)},o(L){se(h.$$.fragment,L),H=!1},d(L){L&&(k(e),k(t),k(l)),ie(h),i[10](null),K=!1,Me(ge)}}}function Re(i,e,t){let{checked:l}=e,{dialog:s}=e,{showBackdrop:n}=e,{handleClick:c}=e,{images:f=[]}=e;const u=d=>{const T=E=>{d&&!d.contains(E.target)&&!E.defaultPrevented&&d.dispatchEvent(new CustomEvent("click_outside",d))};return document.addEventListener("click",T,!0),{destroy(){document.removeEventListener("click",T,!0)}}},h=()=>{s.close(),t(2,n=!1)};Ae(()=>{s.addEventListener("click_outside",()=>{h()})});const _=()=>{s.close(),t(2,n=!1)};function r(){l=this.checked,t(0,l)}const I=()=>{s.close(),t(2,n=!1),Pe("/")},a=()=>{s.close(),t(2,n=!1),c()};function C(d){Z[d?"unshift":"push"](()=>{s=d,t(1,s)})}return i.$$set=d=>{"checked"in d&&t(0,l=d.checked),"dialog"in d&&t(1,s=d.dialog),"showBackdrop"in d&&t(2,n=d.showBackdrop),"handleClick"in d&&t(3,c=d.handleClick),"images"in d&&t(4,f=d.images)},[l,s,n,c,f,u,_,r,I,a,C]}class Ue extends re{constructor(e){super(),ce(this,e,Re,Oe,ne,{checked:0,dialog:1,showBackdrop:2,handleClick:3,images:4})}}function ke(i){let e,t,l,s=i[2].heading+"",n,c,f,u=i[2].description+"",h,_,r,I='<img class="cancel" src="/images/Preview/Cancel.svg" alt="Dismiss Invite Card"/>',a,C;return{c(){e=b("article"),t=b("div"),l=b("h1"),n=_e(s),c=q(),f=b("p"),h=_e(u),_=q(),r=b("a"),r.innerHTML=I,this.h()},l(d){e=p(d,"ARTICLE",{class:!0});var T=M(e);t=p(T,"DIV",{class:!0});var E=M(t);l=p(E,"H1",{class:!0});var S=M(l);n=be(S,s),S.forEach(k),c=D(E),f=p(E,"P",{class:!0});var B=M(f);h=be(B,u),B.forEach(k),E.forEach(k),_=D(T),r=p(T,"A",{"aria-label":!0,href:!0,class:!0,"data-svelte-h":!0}),z(r)!=="svelte-1v7q7xb"&&(r.innerHTML=I),T.forEach(k),this.h()},h(){o(l,"class","svelte-1739tkq"),o(f,"class","svelte-1739tkq"),o(t,"class","svelte-1739tkq"),o(r,"aria-label","Dismiss Invite Card"),o(r,"href","/"),o(r,"class","cross svelte-1739tkq"),o(e,"class","svelte-1739tkq"),R(e,"out",i[4]),R(e,"failure",i[1]==="failure")},m(d,T){P(d,e,T),v(e,t),v(t,l),v(l,n),v(t,c),v(t,f),v(f,h),v(e,_),v(e,r),i[8](e),a||(C=W(r,"click",de(i[7])),a=!0)},p(d,T){T&4&&s!==(s=d[2].heading+"")&&pe(n,s),T&4&&u!==(u=d[2].description+"")&&pe(h,u),T&16&&R(e,"out",d[4]),T&2&&R(e,"failure",d[1]==="failure")},d(d){d&&k(e),i[8](null),a=!1,C()}}}function ze(i){let e,t=i[0]&&ke(i);return{c(){t&&t.c(),e=ve()},l(l){t&&t.l(l),e=ve()},m(l,s){t&&t.m(l,s),P(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=ke(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(l){l&&k(e),t&&t.d(l)}}}function je(i,e,t){let{variant:l}=e,{showToast:s=!1}=e,{visibleTime:n=3e3}=e,{content:c}=e,f,u=!1,h=()=>{t(3,f.style.display="none",f)};const _=a=>{a&&(setTimeout(()=>{t(4,u=!0)},n-500),setTimeout(()=>{t(0,s=!1),t(4,u=!1)},n))},r=()=>{h()};function I(a){Z[a?"unshift":"push"](()=>{f=a,t(3,f)})}return i.$$set=a=>{"variant"in a&&t(1,l=a.variant),"showToast"in a&&t(0,s=a.showToast),"visibleTime"in a&&t(6,n=a.visibleTime),"content"in a&&t(2,c=a.content)},i.$$.update=()=>{i.$$.dirty&1&&_(s??!1)},[s,l,c,f,u,h,n,r,I]}class we extends re{constructor(e){super(),ce(this,e,je,ze,ne,{variant:1,showToast:0,visibleTime:6,content:2})}}function Ce(i,e,t){const l=i.slice();return l[1]=e[t],l}function Te(i){let e,t;return{c(){e=b("img"),this.h()},l(l){e=p(l,"IMG",{draggable:!0,src:!0,alt:!0,class:!0}),this.h()},h(){o(e,"draggable","false"),Y(e.src,t=i[1])||o(e,"src",t),o(e,"alt","taken from camera"),o(e,"class","svelte-t3m68y")},m(l,s){P(l,e,s)},p(l,s){s&1&&!Y(e.src,t=l[1])&&o(e,"src",t)},d(l){l&&k(e)}}}function We(i){let e,t=X(i[0]??[]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Te(Ce(i,t,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=p(s,"DIV",{id:!0,class:!0});var n=M(e);for(let c=0;c<l.length;c+=1)l[c].l(n);n.forEach(k),this.h()},h(){o(e,"id","pictures"),o(e,"class","svelte-t3m68y")},m(s,n){P(s,e,n);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(s,[n]){if(n&1){t=X(s[0]??[]);let c;for(c=0;c<t.length;c+=1){const f=Ce(s,t,c);l[c]?l[c].p(f,n):(l[c]=Te(f),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},i:Q,o:Q,d(s){s&&k(e),he(l,s)}}}function Ye(i,e,t){let{images:l=[]}=e;return i.$$set=s=>{"images"in s&&t(0,l=s.images)},[l]}class Je extends re{constructor(e){super(),ce(this,e,Ye,We,ne,{images:0})}}function Ie(i,e,t){const l=i.slice();return l[19]=e[t],l[21]=t,l}function Ee(i,e,t){const l=i.slice();return l[19]=e[t],l[21]=t,l}function Be(i){let e,t="<p>Post</p>",l,s;return{c(){e=b("a"),e.innerHTML=t,this.h()},l(n){e=p(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(e)!=="svelte-16slb96"&&(e.innerHTML=t),this.h()},h(){o(e,"class","post svelte-1qvril1"),o(e,"href","/")},m(n,c){P(n,e,c),l||(s=W(e,"click",de(i[9])),l=!0)},p:Q,d(n){n&&k(e),l=!1,s()}}}function Ke(i){let e,t,l,s,n,c="Store upto three images";return{c(){e=b("div"),t=b("img"),s=q(),n=b("h3"),n.textContent=c,this.h()},l(f){e=p(f,"DIV",{class:!0});var u=M(e);t=p(u,"IMG",{draggable:!0,src:!0,alt:!0,class:!0}),s=D(u),n=p(u,"H3",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-rf0s05"&&(n.textContent=c),u.forEach(k),this.h()},h(){o(t,"draggable","false"),Y(t.src,l="/images/Preview/EmptyState.svg")||o(t,"src",l),o(t,"alt","empty state"),o(t,"class","svelte-1qvril1"),o(n,"class","svelte-1qvril1"),ue(n,"color","#ffffff"),o(e,"class","empty-state svelte-1qvril1")},m(f,u){P(f,e,u),v(e,t),v(e,s),v(e,n)},p:Q,d(f){f&&k(e)}}}function Qe(i){let e,t,l,s,n,c=X(i[0]),f=[];for(let r=0;r<c.length;r+=1)f[r]=ye(Ee(i,c,r));let u=X(i[0]),h=[];for(let r=0;r<u.length;r+=1)h[r]=qe(Ie(i,u,r));let _=i[0].length!==0&&De(i);return{c(){e=b("div");for(let r=0;r<f.length;r+=1)f[r].c();t=q(),l=b("div"),s=b("div");for(let r=0;r<h.length;r+=1)h[r].c();n=q(),_&&_.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var I=M(e);for(let d=0;d<f.length;d+=1)f[d].l(I);I.forEach(k),t=D(r),l=p(r,"DIV",{class:!0});var a=M(l);s=p(a,"DIV",{class:!0});var C=M(s);for(let d=0;d<h.length;d+=1)h[d].l(C);C.forEach(k),n=D(a),_&&_.l(a),a.forEach(k),this.h()},h(){o(e,"class","image-slider svelte-1qvril1"),o(s,"class","thumbnails svelte-1qvril1"),o(l,"class","bottom svelte-1qvril1")},m(r,I){P(r,e,I);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(e,null);P(r,t,I),P(r,l,I),v(l,s);for(let a=0;a<h.length;a+=1)h[a]&&h[a].m(s,null);v(l,n),_&&_.m(l,null)},p(r,I){if(I&1){c=X(r[0]);let a;for(a=0;a<c.length;a+=1){const C=Ee(r,c,a);f[a]?f[a].p(C,I):(f[a]=ye(C),f[a].c(),f[a].m(e,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=c.length}if(I&3){u=X(r[0]);let a;for(a=0;a<u.length;a+=1){const C=Ie(r,u,a);h[a]?h[a].p(C,I):(h[a]=qe(C),h[a].c(),h[a].m(s,null))}for(;a<h.length;a+=1)h[a].d(1);h.length=u.length}r[0].length!==0?_?_.p(r,I):(_=De(r),_.c(),_.m(l,null)):_&&(_.d(1),_=null)},d(r){r&&(k(e),k(t),k(l)),he(f,r),he(h,r),_&&_.d()}}}function ye(i){let e,t;return{c(){e=b("img"),this.h()},l(l){e=p(l,"IMG",{draggable:!0,class:!0,width:!0,height:!0,src:!0,id:!0,alt:!0}),this.h()},h(){o(e,"draggable","false"),o(e,"class","gallery-image svelte-1qvril1"),o(e,"width","100%"),o(e,"height","100%"),Y(e.src,t=i[19])||o(e,"src",t),o(e,"id",`image-${i[21]}`),o(e,"alt","gallery")},m(l,s){P(l,e,s)},p(l,s){s&1&&!Y(e.src,t=l[19])&&o(e,"src",t)},d(l){l&&k(e)}}}function qe(i){let e,t,l,s,n,c;function f(){return i[10](i[21])}return{c(){e=b("a"),t=b("img"),s=q(),this.h()},l(u){e=p(u,"A",{class:!0,href:!0});var h=M(e);t=p(h,"IMG",{draggable:!0,class:!0,src:!0,alt:!0}),s=D(h),h.forEach(k),this.h()},h(){o(t,"draggable","false"),o(t,"class","thumbnail-image svelte-1qvril1"),Y(t.src,l=i[19])||o(t,"src",l),o(t,"alt","thumbnail"),o(e,"class","thumbnail svelte-1qvril1"),o(e,"href",`#image-${i[21]}`),R(e,"active",i[1]===i[21])},m(u,h){P(u,e,h),v(e,t),v(e,s),n||(c=W(e,"click",f),n=!0)},p(u,h){i=u,h&1&&!Y(t.src,l=i[19])&&o(t,"src",l),h&2&&R(e,"active",i[1]===i[21])},d(u){u&&k(e),n=!1,c()}}}function De(i){let e,t='<img draggable="false" src="/images/Preview/Delete.svg" alt="delete"/>',l,s;return{c(){e=b("a"),e.innerHTML=t,this.h()},l(n){e=p(n,"A",{href:!0,"data-svelte-h":!0}),z(e)!=="svelte-oxoea9"&&(e.innerHTML=t),this.h()},h(){o(e,"href","/")},m(n,c){P(n,e,c),l||(s=W(e,"click",de(i[8])),l=!0)},p:Q,d(n){n&&k(e),l=!1,s()}}}function Xe(i){let e,t,l,s='<img draggable="false" src="/images/Preview/Back.svg" alt="back"/>',n,c,f,u,h,_,r,I,a,C,d,T,E,S,B=i[0].length!==0&&Be(i);function J(m,w){return m[0].length!==0?Qe:Ke}let G=J(i),g=G(i);function U(m){i[12](m)}function V(m){i[13](m)}function j(m){i[14](m)}let N={images:ae(),handleClick:i[11]};return i[3]!==void 0&&(N.dialog=i[3]),i[4]!==void 0&&(N.showBackdrop=i[4]),i[2]!==void 0&&(N.checked=i[2]),u=new Ue({props:N}),Z.push(()=>fe(u,"dialog",U)),Z.push(()=>fe(u,"showBackdrop",V)),Z.push(()=>fe(u,"checked",j)),a=new we({props:{showToast:i[5]&&!(i[5]=void 0),visibleTime:3e3,variant:"success",content:{heading:"Success",description:"Your images have been submitted successfully"}}}),d=new we({props:{showToast:i[5]===!1&&!(i[5]=void 0),visibleTime:3e3,variant:"failure",content:{heading:"Failure",description:"Failed to submit your images"}}}),{c(){e=b("main"),t=b("nav"),l=b("a"),l.innerHTML=s,n=q(),B&&B.c(),c=q(),g.c(),f=q(),$(u.$$.fragment),I=q(),$(a.$$.fragment),C=q(),$(d.$$.fragment),T=q(),E=b("canvas"),this.h()},l(m){e=p(m,"MAIN",{class:!0});var w=M(e);t=p(w,"NAV",{class:!0});var y=M(t);l=p(y,"A",{href:!0,"data-svelte-h":!0}),z(l)!=="svelte-m2wzz6"&&(l.innerHTML=s),n=D(y),B&&B.l(y),y.forEach(k),c=D(w),g.l(w),f=D(w),ee(u.$$.fragment,w),I=D(w),ee(a.$$.fragment,w),C=D(w),ee(d.$$.fragment,w),w.forEach(k),T=D(m),E=p(m,"CANVAS",{width:!0,height:!0,id:!0,class:!0}),M(E).forEach(k),this.h()},h(){o(l,"href","/"),o(t,"class","nav-bar svelte-1qvril1"),o(e,"class","camera-preview svelte-1qvril1"),o(E,"width","512"),o(E,"height","464"),o(E,"id","canvas"),o(E,"class","svelte-1qvril1")},m(m,w){P(m,e,w),v(e,t),v(t,l),v(t,n),B&&B.m(t,null),v(e,c),g.m(e,null),v(e,f),te(u,e,null),v(e,I),te(a,e,null),v(e,C),te(d,e,null),P(m,T,w),P(m,E,w),i[15](E),S=!0},p(m,[w]){m[0].length!==0?B?B.p(m,w):(B=Be(m),B.c(),B.m(t,null)):B&&(B.d(1),B=null),G===(G=J(m))&&g?g.p(m,w):(g.d(1),g=G(m),g&&(g.c(),g.m(e,f)));const y={};!h&&w&8&&(h=!0,y.dialog=m[3],oe(()=>h=!1)),!_&&w&16&&(_=!0,y.showBackdrop=m[4],oe(()=>_=!1)),!r&&w&4&&(r=!0,y.checked=m[2],oe(()=>r=!1)),u.$set(y);const O={};w&32&&(O.showToast=m[5]&&!(m[5]=void 0)),a.$set(O);const H={};w&32&&(H.showToast=m[5]===!1&&!(m[5]=void 0)),d.$set(H)},i(m){S||(le(u.$$.fragment,m),le(a.$$.fragment,m),le(d.$$.fragment,m),S=!0)},o(m){se(u.$$.fragment,m),se(a.$$.fragment,m),se(d.$$.fragment,m),S=!1},d(m){m&&(k(e),k(T),k(E)),B&&B.d(),g.d(),ie(u),ie(a),ie(d),i[15](null)}}}async function Ze(i){return await(await fetch(i)).blob()}function xe(i,e){return new File([i],e,{type:i.type})}async function $e(i){const e=[];for(let t=0;t<i.length;t++){const l=await Ze(i[t]),s=xe(l,`file${t+1}.png`);e.push(s)}return e}function et(i,e,t){let l=ae(),s=0,n,c,f=!1,u,h,_="",r="",I=async()=>{const g=await $e(ae()),U=new FormData;g.forEach((V,j)=>{U.append(`file${j+1}`,V)}),t(5,u=!!await Ve(g)),u&&r&&_&&await Se(_,r,h)};const a=()=>{He(s),t(0,l=ae())};let C;Ae(()=>{_=Fe(),r=Ge();const g=C.getContext("2d"),U=y("/images/Preview/Prompt for first Email.svg",w),V=y(l[0],w),j=y(l[1],w),N=y(l[2],w);let m=0;async function w(){if(m+=1,m===4&&g){g.beginPath(),g.strokeStyle="#75861B",g.lineWidth=0,g.fillStyle="#F0EBE2",g.drawImage(U,0,0,C.width,C.height),g.font="18px serif",g.fillStyle="#75861B",g.textAlign="center",g.fillText((r==null?void 0:r.split(" ")[0])||((_==null?void 0:_.toUpperCase())??"").replace(/@.*/,"")+"'s Images",C.width/2,370),g.rotate(-.23),g.drawImage(V,14.4,171.5,108,117),g.rotate(.22),g.drawImage(j,201,136,108,117),g.rotate(.226),g.drawImage(N,375,62,108,117);let O=C.toDataURL("image/jpeg",1);O&&(h=await Ne(O))}}function y(O,H){const K=new Image;return K.onload=H,K.src=O,K}});const d=()=>{c.show(),t(4,f=!0)},T=g=>t(1,s=g),E=()=>I();function S(g){c=g,t(3,c)}function B(g){f=g,t(4,f)}function J(g){n=g,t(2,n)}function G(g){Z[g?"unshift":"push"](()=>{C=g,t(6,C)})}return[l,s,n,c,f,u,C,I,a,d,T,E,S,B,J,G]}class at extends re{constructor(e){super(),ce(this,e,et,Xe,ne,{})}}export{at as component};
