import{s as ne,x as Y,y as Le,r as Me,o as Ae,e as Z,n as Q,z as oe}from"../chunks/scheduler.C7t7VQCU.js";import{S as re,i as ce,e as b,s as y,w as $,c as p,d as M,g as k,h as D,x as ee,m as z,n as o,A as R,r as ue,j as P,k as _,y as te,o as W,t as le,a as se,z as ae,p as _e,b as ve,f as be,B as de,l as pe,C as he,D as fe}from"../chunks/index.BuEixCZg.js";import{g as Pe}from"../chunks/entry.BrP1Zw2y.js";import{g as ie,u as Ve,c as Se,d as He,e as Fe,f as Ge,h as Ne}from"../chunks/api.service.CwjS29Af.js";function X(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Oe(a){let e,t,l,s,n,c,f,u,h,v,r,I=`By clicking "I Consent," you agree to our use of your images, which will
      be processed and stored on AWS. Your privacy and data security are
      assured.`,i,C,d,T,q,S,E,J="I consent",G,g,U,V,j="Take Again",N,m,w,B,O="Submit",H,K,ge;return h=new Je({props:{images:a[4]}}),{c(){e=b("div"),t=y(),l=b("dialog"),s=b("div"),n=b("img"),f=y(),u=b("div"),$(h.$$.fragment),v=y(),r=b("p"),r.textContent=I,i=y(),C=b("br"),d=y(),T=b("div"),q=b("input"),S=y(),E=b("label"),E.textContent=J,G=y(),g=b("br"),U=y(),V=b("button"),V.textContent=j,N=y(),m=b("br"),w=y(),B=b("button"),B.textContent=O,this.h()},l(L){e=p(L,"DIV",{class:!0}),M(e).forEach(k),t=D(L),l=p(L,"DIALOG",{class:!0});var F=M(l);s=p(F,"DIV",{});var A=M(s);n=p(A,"IMG",{class:!0,src:!0,alt:!0}),f=D(A),u=p(A,"DIV",{style:!0});var me=M(u);ee(h.$$.fragment,me),me.forEach(k),v=D(A),r=p(A,"P",{"data-svelte-h":!0}),z(r)!=="svelte-vd2xim"&&(r.textContent=I),i=D(A),C=p(A,"BR",{}),d=D(A),T=p(A,"DIV",{class:!0});var x=M(T);q=p(x,"INPUT",{id:!0,type:!0}),S=D(x),E=p(x,"LABEL",{for:!0,"data-svelte-h":!0}),z(E)!=="svelte-137263i"&&(E.textContent=J),x.forEach(k),G=D(A),g=p(A,"BR",{}),U=D(A),V=p(A,"BUTTON",{class:!0,"data-svelte-h":!0}),z(V)!=="svelte-1idmocm"&&(V.textContent=j),N=D(A),m=p(A,"BR",{}),w=D(A),B=p(A,"BUTTON",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-1qxv37p"&&(B.textContent=O),A.forEach(k),F.forEach(k),this.h()},h(){o(e,"class","modal-bg svelte-2mvxsa"),R(e,"show-filter",a[2]),o(n,"class","cancel"),Y(n.src,c="/images/Preview/Cancel.svg")||o(n,"src",c),o(n,"alt","alert"),ue(u,"text-align","center"),ue(u,"margin","10px auto 30px auto"),o(q,"id","condition"),o(q,"type","checkbox"),o(E,"for","condition"),o(T,"class","checkbox"),o(V,"class","btn-secondary btn"),o(B,"class","btn"),R(B,"disabled",!a[0]),o(l,"class","svelte-2mvxsa")},m(L,F){P(L,e,F),P(L,t,F),P(L,l,F),_(l,s),_(s,n),_(s,f),_(s,u),te(h,u,null),_(s,v),_(s,r),_(s,i),_(s,C),_(s,d),_(s,T),_(T,q),q.checked=a[0],_(T,S),_(T,E),_(s,G),_(s,g),_(s,U),_(s,V),_(s,N),_(s,m),_(s,w),_(s,B),a[10](l),H=!0,K||(ge=[W(n,"click",a[6]),W(q,"change",a[7]),W(V,"click",a[8]),W(B,"click",a[9]),Le(a[5].call(null,l))],K=!0)},p(L,[F]){(!H||F&4)&&R(e,"show-filter",L[2]);const A={};F&16&&(A.images=L[4]),h.$set(A),F&1&&(q.checked=L[0]),(!H||F&1)&&R(B,"disabled",!L[0])},i(L){H||(le(h.$$.fragment,L),H=!0)},o(L){se(h.$$.fragment,L),H=!1},d(L){L&&(k(e),k(t),k(l)),ae(h),a[10](null),K=!1,Me(ge)}}}function Re(a,e,t){let{checked:l}=e,{dialog:s}=e,{showBackdrop:n}=e,{handleClick:c}=e,{images:f=[]}=e;const u=d=>{const T=q=>{d&&!d.contains(q.target)&&!q.defaultPrevented&&d.dispatchEvent(new CustomEvent("click_outside",d))};return document.addEventListener("click",T,!0),{destroy(){document.removeEventListener("click",T,!0)}}},h=()=>{s.close(),t(2,n=!1)};Ae(()=>{s.addEventListener("click_outside",()=>{h()})});const v=()=>{s.close(),t(2,n=!1)};function r(){l=this.checked,t(0,l)}const I=()=>{s.close(),t(2,n=!1),Pe("/")},i=()=>{s.close(),t(2,n=!1),c()};function C(d){Z[d?"unshift":"push"](()=>{s=d,t(1,s)})}return a.$$set=d=>{"checked"in d&&t(0,l=d.checked),"dialog"in d&&t(1,s=d.dialog),"showBackdrop"in d&&t(2,n=d.showBackdrop),"handleClick"in d&&t(3,c=d.handleClick),"images"in d&&t(4,f=d.images)},[l,s,n,c,f,u,v,r,I,i,C]}class Ue extends re{constructor(e){super(),ce(this,e,Re,Oe,ne,{checked:0,dialog:1,showBackdrop:2,handleClick:3,images:4})}}function ke(a){let e,t,l,s=a[2].heading+"",n,c,f,u=a[2].description+"",h,v,r,I='<img class="cancel" src="/images/Preview/Cancel.svg" alt="Dismiss Invite Card"/>',i,C;return{c(){e=b("article"),t=b("div"),l=b("h1"),n=ve(s),c=y(),f=b("p"),h=ve(u),v=y(),r=b("a"),r.innerHTML=I,this.h()},l(d){e=p(d,"ARTICLE",{class:!0});var T=M(e);t=p(T,"DIV",{class:!0});var q=M(t);l=p(q,"H1",{class:!0});var S=M(l);n=be(S,s),S.forEach(k),c=D(q),f=p(q,"P",{class:!0});var E=M(f);h=be(E,u),E.forEach(k),q.forEach(k),v=D(T),r=p(T,"A",{"aria-label":!0,href:!0,class:!0,"data-svelte-h":!0}),z(r)!=="svelte-1v7q7xb"&&(r.innerHTML=I),T.forEach(k),this.h()},h(){o(l,"class","svelte-1739tkq"),o(f,"class","svelte-1739tkq"),o(t,"class","svelte-1739tkq"),o(r,"aria-label","Dismiss Invite Card"),o(r,"href","/"),o(r,"class","cross svelte-1739tkq"),o(e,"class","svelte-1739tkq"),R(e,"out",a[4]),R(e,"failure",a[1]==="failure")},m(d,T){P(d,e,T),_(e,t),_(t,l),_(l,n),_(t,c),_(t,f),_(f,h),_(e,v),_(e,r),a[8](e),i||(C=W(r,"click",de(a[7])),i=!0)},p(d,T){T&4&&s!==(s=d[2].heading+"")&&pe(n,s),T&4&&u!==(u=d[2].description+"")&&pe(h,u),T&16&&R(e,"out",d[4]),T&2&&R(e,"failure",d[1]==="failure")},d(d){d&&k(e),a[8](null),i=!1,C()}}}function ze(a){let e,t=a[0]&&ke(a);return{c(){t&&t.c(),e=_e()},l(l){t&&t.l(l),e=_e()},m(l,s){t&&t.m(l,s),P(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=ke(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(l){l&&k(e),t&&t.d(l)}}}function je(a,e,t){let{variant:l}=e,{showToast:s=!1}=e,{visibleTime:n=3e3}=e,{content:c}=e,f,u=!1,h=()=>{t(3,f.style.display="none",f)};const v=i=>{i&&(setTimeout(()=>{t(4,u=!0)},n-500),setTimeout(()=>{t(0,s=!1),t(4,u=!1)},n))},r=()=>{h()};function I(i){Z[i?"unshift":"push"](()=>{f=i,t(3,f)})}return a.$$set=i=>{"variant"in i&&t(1,l=i.variant),"showToast"in i&&t(0,s=i.showToast),"visibleTime"in i&&t(6,n=i.visibleTime),"content"in i&&t(2,c=i.content)},a.$$.update=()=>{a.$$.dirty&1&&v(s??!1)},[s,l,c,f,u,h,n,r,I]}class we extends re{constructor(e){super(),ce(this,e,je,ze,ne,{variant:1,showToast:0,visibleTime:6,content:2})}}function Ce(a,e,t){const l=a.slice();return l[1]=e[t],l}function Te(a){let e,t;return{c(){e=b("img"),this.h()},l(l){e=p(l,"IMG",{draggable:!0,src:!0,alt:!0,class:!0}),this.h()},h(){o(e,"draggable","false"),Y(e.src,t=a[1])||o(e,"src",t),o(e,"alt","taken from camera"),o(e,"class","svelte-t3m68y")},m(l,s){P(l,e,s)},p(l,s){s&1&&!Y(e.src,t=l[1])&&o(e,"src",t)},d(l){l&&k(e)}}}function We(a){let e,t=X(a[0]??[]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Te(Ce(a,t,s));return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=p(s,"DIV",{id:!0,class:!0});var n=M(e);for(let c=0;c<l.length;c+=1)l[c].l(n);n.forEach(k),this.h()},h(){o(e,"id","pictures"),o(e,"class","svelte-t3m68y")},m(s,n){P(s,e,n);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(s,[n]){if(n&1){t=X(s[0]??[]);let c;for(c=0;c<t.length;c+=1){const f=Ce(s,t,c);l[c]?l[c].p(f,n):(l[c]=Te(f),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},i:Q,o:Q,d(s){s&&k(e),he(l,s)}}}function Ye(a,e,t){let{images:l=[]}=e;return a.$$set=s=>{"images"in s&&t(0,l=s.images)},[l]}class Je extends re{constructor(e){super(),ce(this,e,Ye,We,ne,{images:0})}}function Ie(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function qe(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function Ee(a){let e,t="<p>Post</p>",l,s;return{c(){e=b("a"),e.innerHTML=t,this.h()},l(n){e=p(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(e)!=="svelte-16slb96"&&(e.innerHTML=t),this.h()},h(){o(e,"class","post svelte-19qbl8q"),o(e,"href","/")},m(n,c){P(n,e,c),l||(s=W(e,"click",de(a[9])),l=!0)},p:Q,d(n){n&&k(e),l=!1,s()}}}function Ke(a){let e,t,l,s,n,c="Store upto three images";return{c(){e=b("div"),t=b("img"),s=y(),n=b("h3"),n.textContent=c,this.h()},l(f){e=p(f,"DIV",{class:!0});var u=M(e);t=p(u,"IMG",{draggable:!0,src:!0,alt:!0,class:!0}),s=D(u),n=p(u,"H3",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-rf0s05"&&(n.textContent=c),u.forEach(k),this.h()},h(){o(t,"draggable","false"),Y(t.src,l="/images/Preview/EmptyState.svg")||o(t,"src",l),o(t,"alt","empty state"),o(t,"class","svelte-19qbl8q"),o(n,"class","svelte-19qbl8q"),ue(n,"color","#ffffff"),o(e,"class","empty-state svelte-19qbl8q")},m(f,u){P(f,e,u),_(e,t),_(e,s),_(e,n)},p:Q,d(f){f&&k(e)}}}function Qe(a){let e,t,l,s,n,c=X(a[0]),f=[];for(let r=0;r<c.length;r+=1)f[r]=Be(qe(a,c,r));let u=X(a[0]),h=[];for(let r=0;r<u.length;r+=1)h[r]=ye(Ie(a,u,r));let v=a[0].length!==0&&De(a);return{c(){e=b("div");for(let r=0;r<f.length;r+=1)f[r].c();t=y(),l=b("div"),s=b("div");for(let r=0;r<h.length;r+=1)h[r].c();n=y(),v&&v.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var I=M(e);for(let d=0;d<f.length;d+=1)f[d].l(I);I.forEach(k),t=D(r),l=p(r,"DIV",{class:!0});var i=M(l);s=p(i,"DIV",{class:!0});var C=M(s);for(let d=0;d<h.length;d+=1)h[d].l(C);C.forEach(k),n=D(i),v&&v.l(i),i.forEach(k),this.h()},h(){o(e,"class","image-slider svelte-19qbl8q"),o(s,"class","thumbnails svelte-19qbl8q"),o(l,"class","bottom svelte-19qbl8q")},m(r,I){P(r,e,I);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(e,null);P(r,t,I),P(r,l,I),_(l,s);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(s,null);_(l,n),v&&v.m(l,null)},p(r,I){if(I&1){c=X(r[0]);let i;for(i=0;i<c.length;i+=1){const C=qe(r,c,i);f[i]?f[i].p(C,I):(f[i]=Be(C),f[i].c(),f[i].m(e,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=c.length}if(I&3){u=X(r[0]);let i;for(i=0;i<u.length;i+=1){const C=Ie(r,u,i);h[i]?h[i].p(C,I):(h[i]=ye(C),h[i].c(),h[i].m(s,null))}for(;i<h.length;i+=1)h[i].d(1);h.length=u.length}r[0].length!==0?v?v.p(r,I):(v=De(r),v.c(),v.m(l,null)):v&&(v.d(1),v=null)},d(r){r&&(k(e),k(t),k(l)),he(f,r),he(h,r),v&&v.d()}}}function Be(a){let e,t;return{c(){e=b("img"),this.h()},l(l){e=p(l,"IMG",{draggable:!0,class:!0,width:!0,height:!0,src:!0,id:!0,alt:!0}),this.h()},h(){o(e,"draggable","false"),o(e,"class","gallery-image svelte-19qbl8q"),o(e,"width","100%"),o(e,"height","100%"),Y(e.src,t=a[19])||o(e,"src",t),o(e,"id",`image-${a[21]}`),o(e,"alt","gallery")},m(l,s){P(l,e,s)},p(l,s){s&1&&!Y(e.src,t=l[19])&&o(e,"src",t)},d(l){l&&k(e)}}}function ye(a){let e,t,l,s,n,c;function f(){return a[10](a[21])}return{c(){e=b("a"),t=b("img"),s=y(),this.h()},l(u){e=p(u,"A",{class:!0,href:!0});var h=M(e);t=p(h,"IMG",{draggable:!0,class:!0,src:!0,alt:!0}),s=D(h),h.forEach(k),this.h()},h(){o(t,"draggable","false"),o(t,"class","thumbnail-image svelte-19qbl8q"),Y(t.src,l=a[19])||o(t,"src",l),o(t,"alt","thumbnail"),o(e,"class","thumbnail svelte-19qbl8q"),o(e,"href",`#image-${a[21]}`),R(e,"active",a[1]===a[21])},m(u,h){P(u,e,h),_(e,t),_(e,s),n||(c=W(e,"click",f),n=!0)},p(u,h){a=u,h&1&&!Y(t.src,l=a[19])&&o(t,"src",l),h&2&&R(e,"active",a[1]===a[21])},d(u){u&&k(e),n=!1,c()}}}function De(a){let e,t='<img draggable="false" src="/images/Preview/Delete.svg" alt="delete"/>',l,s;return{c(){e=b("a"),e.innerHTML=t,this.h()},l(n){e=p(n,"A",{href:!0,"data-svelte-h":!0}),z(e)!=="svelte-oxoea9"&&(e.innerHTML=t),this.h()},h(){o(e,"href","/")},m(n,c){P(n,e,c),l||(s=W(e,"click",de(a[8])),l=!0)},p:Q,d(n){n&&k(e),l=!1,s()}}}function Xe(a){let e,t,l,s='<img draggable="false" src="/images/Preview/Back.svg" alt="back"/>',n,c,f,u,h,v,r,I,i,C,d,T,q,S,E=a[0].length!==0&&Ee(a);function J(m,w){return m[0].length!==0?Qe:Ke}let G=J(a),g=G(a);function U(m){a[12](m)}function V(m){a[13](m)}function j(m){a[14](m)}let N={images:ie(),handleClick:a[11]};return a[3]!==void 0&&(N.dialog=a[3]),a[4]!==void 0&&(N.showBackdrop=a[4]),a[2]!==void 0&&(N.checked=a[2]),u=new Ue({props:N}),Z.push(()=>fe(u,"dialog",U)),Z.push(()=>fe(u,"showBackdrop",V)),Z.push(()=>fe(u,"checked",j)),i=new we({props:{showToast:a[5]&&!(a[5]=void 0),visibleTime:3e3,variant:"success",content:{heading:"Success",description:"Your images have been submitted successfully"}}}),d=new we({props:{showToast:a[5]===!1&&!(a[5]=void 0),visibleTime:3e3,variant:"failure",content:{heading:"Failure",description:"Failed to submit your images"}}}),{c(){e=b("main"),t=b("nav"),l=b("a"),l.innerHTML=s,n=y(),E&&E.c(),c=y(),g.c(),f=y(),$(u.$$.fragment),I=y(),$(i.$$.fragment),C=y(),$(d.$$.fragment),T=y(),q=b("canvas"),this.h()},l(m){e=p(m,"MAIN",{class:!0});var w=M(e);t=p(w,"NAV",{class:!0});var B=M(t);l=p(B,"A",{href:!0,"data-svelte-h":!0}),z(l)!=="svelte-m2wzz6"&&(l.innerHTML=s),n=D(B),E&&E.l(B),B.forEach(k),c=D(w),g.l(w),f=D(w),ee(u.$$.fragment,w),I=D(w),ee(i.$$.fragment,w),C=D(w),ee(d.$$.fragment,w),w.forEach(k),T=D(m),q=p(m,"CANVAS",{width:!0,height:!0,id:!0,class:!0}),M(q).forEach(k),this.h()},h(){o(l,"href","/"),o(t,"class","nav-bar svelte-19qbl8q"),o(e,"class","camera-preview svelte-19qbl8q"),o(q,"width","512"),o(q,"height","464"),o(q,"id","canvas"),o(q,"class","svelte-19qbl8q")},m(m,w){P(m,e,w),_(e,t),_(t,l),_(t,n),E&&E.m(t,null),_(e,c),g.m(e,null),_(e,f),te(u,e,null),_(e,I),te(i,e,null),_(e,C),te(d,e,null),P(m,T,w),P(m,q,w),a[15](q),S=!0},p(m,[w]){m[0].length!==0?E?E.p(m,w):(E=Ee(m),E.c(),E.m(t,null)):E&&(E.d(1),E=null),G===(G=J(m))&&g?g.p(m,w):(g.d(1),g=G(m),g&&(g.c(),g.m(e,f)));const B={};!h&&w&8&&(h=!0,B.dialog=m[3],oe(()=>h=!1)),!v&&w&16&&(v=!0,B.showBackdrop=m[4],oe(()=>v=!1)),!r&&w&4&&(r=!0,B.checked=m[2],oe(()=>r=!1)),u.$set(B);const O={};w&32&&(O.showToast=m[5]&&!(m[5]=void 0)),i.$set(O);const H={};w&32&&(H.showToast=m[5]===!1&&!(m[5]=void 0)),d.$set(H)},i(m){S||(le(u.$$.fragment,m),le(i.$$.fragment,m),le(d.$$.fragment,m),S=!0)},o(m){se(u.$$.fragment,m),se(i.$$.fragment,m),se(d.$$.fragment,m),S=!1},d(m){m&&(k(e),k(T),k(q)),E&&E.d(),g.d(),ae(u),ae(i),ae(d),a[15](null)}}}async function Ze(a){return await(await fetch(a)).blob()}function xe(a,e){return new File([a],e,{type:a.type})}async function $e(a){const e=[];for(let t=0;t<a.length;t++){const l=await Ze(a[t]),s=xe(l,`file${t+1}.png`);e.push(s)}return e}function et(a,e,t){let l=ie(),s=0,n,c,f=!1,u,h,v="",r="",I=async()=>{const g=await $e(ie()),U=new FormData;g.forEach((V,j)=>{U.append(`file${j+1}`,V)}),t(5,u=!!await Ve(g)),u&&r&&v&&await Se(v,r,h)};const i=()=>{He(s),t(0,l=ie())};let C;Ae(()=>{v=Fe(),r=Ge();const g=C.getContext("2d"),U=B("/images/Preview/Prompt for first Email.svg",w),V=B(l[0],w),j=B(l[1],w),N=B(l[2],w);let m=0;async function w(){if(m+=1,m===4&&g){g.beginPath(),g.strokeStyle="#75861B",g.lineWidth=0,g.fillStyle="#F0EBE2",g.drawImage(U,0,0,C.width,C.height),g.font="18px serif",g.fillStyle="#75861B",g.textAlign="center",g.fillText((r==null?void 0:r.split(" ")[0])||((v==null?void 0:v.toUpperCase())??"").replace(/@.*/,"")+"'s Images",C.width/2,370),g.rotate(-.23),g.drawImage(V,14.4,171.5,108,117),g.rotate(.22),g.drawImage(j,201,136,108,117),g.rotate(.226),g.drawImage(N,375,62,108,117);let O=C.toDataURL("image/jpeg",1);O&&(h=await Ne(O))}}function B(O,H){const K=new Image;return K.onload=H,K.src=O,K}});const d=()=>{c.show(),t(4,f=!0)},T=g=>t(1,s=g),q=()=>I();function S(g){c=g,t(3,c)}function E(g){f=g,t(4,f)}function J(g){n=g,t(2,n)}function G(g){Z[g?"unshift":"push"](()=>{C=g,t(6,C)})}return[l,s,n,c,f,u,C,I,i,d,T,q,S,E,J,G]}class it extends re{constructor(e){super(),ce(this,e,et,Xe,ne,{})}}export{it as component};
